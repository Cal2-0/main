{% extends "base.html" %}

{% block title %}Encrypt Message{% endblock %}

{% block content %}
    <h2>Encrypt Message</h2>
    <form method="POST">
        <label>Message to Encrypt:</label><br>
        <input type="text" name="message" size="60" required><br><br>

        <label>Your Private Key (priv):</label><br>
        <input type="number" name="priv" required><br><br>

        <label>Other Party's Public Key:</label><br>
        <input type="number" name="other_pub" required><br><br>

        <button type="submit">Encrypt</button>
    </form>

    {% if encrypted %}
        <h3>Encrypted Message:</h3>
        <p id="encrypted-output" class="output-copy" onclick="copyEncrypted()">{{ encrypted }}</p>
        <script>
        function copyEncrypted() {
            var text = document.getElementById('encrypted-output').innerText;
            navigator.clipboard.writeText(text);
            alert('Encrypted message copied!');
        }
        </script>
    {% endif %}

    <br>
    <a href="/">Back to Main Menu</a>
{% endblock %} 